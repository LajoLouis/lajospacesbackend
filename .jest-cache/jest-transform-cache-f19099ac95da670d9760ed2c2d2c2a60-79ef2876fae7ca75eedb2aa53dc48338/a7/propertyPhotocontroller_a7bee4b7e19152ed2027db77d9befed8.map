{"version":3,"names":["cov_2dv5gqiijs","actualCoverage","s","Property_1","require","logger_1","apiResponse_1","appError_1","catchAsync_1","cloudinaryService_1","mongoose_1","uuid_1","exports","uploadPropertyPhotos","catchAsync","req","res","f","id","propertyId","params","userId","user","_id","files","b","length","AppError","property","Property","findById","ownerId","toString","currentPhotoCount","photos","maxPhotos","uploadedPhotos","uploadPromises","map","file","index","photoId","v4","caption","room","body","uploadResult","uploadPropertyPhoto","buffer","photoData","url","secure_url","publicId","public_id","Array","isArray","isPrimary","uploadedAt","Date","push","error","logger","Promise","all","lastModifiedBy","Types","ObjectId","save","info","ApiResponse","success","totalPhotos","getPropertyPhotos","select","primaryPhoto","find","photo","deletePropertyPhoto","photoIndex","findIndex","wasPrimary","deleteImage","splice","deletedPhotoId","remainingPhotos","setPrimaryPhoto","forEach","reorderPropertyPhotos","photoOrder","existingPhotoIds","missingIds","filter","includes","extraIds","reorderedPhotos","newOrder","updatePhotoDetails","undefined","getPhotoGuidelines","_req","guidelines","maxFileSize","allowedFormats","recommendedSize","tips","requirements","minPhotos","primaryPhotoRequired","roomLabelsRecommended","roomSuggestions"],"sources":["C:\\Users\\MY PC\\Desktop\\lajospaces\\lajospacesbackend\\src\\controllers\\propertyPhoto.controller.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\nimport { Property } from '../models/Property';\r\nimport { logger } from '../utils/logger';\r\nimport { ApiResponse } from '../utils/apiResponse';\r\nimport { AppError } from '../utils/appError';\r\nimport { catchAsync } from '../utils/catchAsync';\r\nimport { uploadPropertyPhoto, deleteImage } from '../services/cloudinaryService';\r\nimport { Types } from 'mongoose';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n/**\r\n * Upload property photos\r\n */\r\nexport const uploadPropertyPhotos = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId } = req.params;\r\n  const userId = req.user?._id;\r\n  const files = req.files as Express.Multer.File[];\r\n\r\n  if (!files || files.length === 0) {\r\n    throw new AppError('No photos provided', 400);\r\n  }\r\n\r\n  // Find property and verify ownership\r\n  const property = await Property.findById(propertyId);\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  if (property.ownerId.toString() !== userId) {\r\n    throw new AppError('You can only upload photos to your own properties', 403);\r\n  }\r\n\r\n  // Check photo limit (max 20 photos per property)\r\n  const currentPhotoCount = property.photos.length;\r\n  const maxPhotos = 20;\r\n  \r\n  if (currentPhotoCount + files.length > maxPhotos) {\r\n    throw new AppError(`Cannot upload more than ${maxPhotos} photos per property. Current: ${currentPhotoCount}`, 400);\r\n  }\r\n\r\n  const uploadedPhotos: any[] = [];\r\n  const uploadPromises = files.map(async (file, index) => {\r\n    try {\r\n      const photoId = uuidv4();\r\n      const { caption, room } = req.body;\r\n      \r\n      // Upload to Cloudinary with property-specific folder\r\n      const uploadResult = await uploadPropertyPhoto(\r\n        file.buffer,\r\n        userId,\r\n        propertyId\r\n      );\r\n\r\n      const photoData = {\r\n        id: photoId,\r\n        url: uploadResult.secure_url,\r\n        publicId: uploadResult.public_id,\r\n        caption: Array.isArray(caption) ? caption[index] : caption,\r\n        room: Array.isArray(room) ? room[index] : room,\r\n        isPrimary: false, // Will be set separately\r\n        uploadedAt: new Date()\r\n      };\r\n\r\n      uploadedPhotos.push(photoData);\r\n      return photoData;\r\n    } catch (error) {\r\n      logger.error(`Failed to upload photo ${index + 1}:`, error);\r\n      throw new AppError(`Failed to upload photo ${index + 1}`, 500);\r\n    }\r\n  });\r\n\r\n  await Promise.all(uploadPromises);\r\n\r\n  // Add photos to property\r\n  property.photos.push(...uploadedPhotos);\r\n\r\n  // If this is the first photo, make it primary\r\n  if (currentPhotoCount === 0 && uploadedPhotos.length > 0) {\r\n    property.photos[0].isPrimary = true;\r\n  }\r\n\r\n  property.lastModifiedBy = new Types.ObjectId(userId);\r\n  await property.save();\r\n\r\n  logger.info(`Uploaded ${uploadedPhotos.length} photos to property: ${propertyId}`);\r\n\r\n  return ApiResponse.success(res, {\r\n    uploadedPhotos,\r\n    totalPhotos: property.photos.length,\r\n    maxPhotos\r\n  }, `Successfully uploaded ${uploadedPhotos.length} photo(s)`, 201);\r\n});\r\n\r\n/**\r\n * Get property photos\r\n */\r\nexport const getPropertyPhotos = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId } = req.params;\r\n\r\n  const property = await Property.findById(propertyId).select('photos');\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  return ApiResponse.success(res, {\r\n    photos: property.photos,\r\n    totalPhotos: property.photos.length,\r\n    primaryPhoto: property.photos.find(photo => photo.isPrimary) || property.photos[0] || null\r\n  }, 'Property photos retrieved successfully');\r\n});\r\n\r\n/**\r\n * Delete a property photo\r\n */\r\nexport const deletePropertyPhoto = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId, photoId } = req.params;\r\n  const userId = req.user?._id;\r\n\r\n  // Find property and verify ownership\r\n  const property = await Property.findById(propertyId);\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  if (property.ownerId.toString() !== userId) {\r\n    throw new AppError('You can only delete photos from your own properties', 403);\r\n  }\r\n\r\n  // Find photo\r\n  const photoIndex = property.photos.findIndex(photo => photo.id === photoId);\r\n  if (photoIndex === -1) {\r\n    throw new AppError('Photo not found', 404);\r\n  }\r\n\r\n  const photo = property.photos[photoIndex];\r\n  const wasPrimary = photo.isPrimary;\r\n\r\n  try {\r\n    // Delete from Cloudinary\r\n    await deleteImage(photo.publicId);\r\n  } catch (error) {\r\n    logger.error(`Failed to delete photo from Cloudinary: ${photo.publicId}`, error);\r\n    // Continue with database deletion even if Cloudinary deletion fails\r\n  }\r\n\r\n  // Remove photo from property\r\n  property.photos.splice(photoIndex, 1);\r\n\r\n  // If deleted photo was primary, make the first remaining photo primary\r\n  if (wasPrimary && property.photos.length > 0) {\r\n    property.photos[0].isPrimary = true;\r\n  }\r\n\r\n  property.lastModifiedBy = new Types.ObjectId(userId);\r\n  await property.save();\r\n\r\n  logger.info(`Deleted photo ${photoId} from property: ${propertyId}`);\r\n\r\n  return ApiResponse.success(res, {\r\n    deletedPhotoId: photoId,\r\n    remainingPhotos: property.photos.length\r\n  }, 'Photo deleted successfully');\r\n});\r\n\r\n/**\r\n * Set primary photo\r\n */\r\nexport const setPrimaryPhoto = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId, photoId } = req.params;\r\n  const userId = req.user?._id;\r\n\r\n  // Find property and verify ownership\r\n  const property = await Property.findById(propertyId);\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  if (property.ownerId.toString() !== userId) {\r\n    throw new AppError('You can only modify photos of your own properties', 403);\r\n  }\r\n\r\n  // Find photo\r\n  const photo = property.photos.find(photo => photo.id === photoId);\r\n  if (!photo) {\r\n    throw new AppError('Photo not found', 404);\r\n  }\r\n\r\n  // Remove primary status from all photos\r\n  property.photos.forEach(photo => {\r\n    photo.isPrimary = false;\r\n  });\r\n\r\n  // Set new primary photo\r\n  photo.isPrimary = true;\r\n\r\n  property.lastModifiedBy = new Types.ObjectId(userId);\r\n  await property.save();\r\n\r\n  logger.info(`Set primary photo ${photoId} for property: ${propertyId}`);\r\n\r\n  return ApiResponse.success(res, {\r\n    primaryPhoto: photo,\r\n    propertyId\r\n  }, 'Primary photo updated successfully');\r\n});\r\n\r\n/**\r\n * Reorder property photos\r\n */\r\nexport const reorderPropertyPhotos = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId } = req.params;\r\n  const { photoOrder } = req.body;\r\n  const userId = req.user?._id;\r\n\r\n  // Find property and verify ownership\r\n  const property = await Property.findById(propertyId);\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  if (property.ownerId.toString() !== userId) {\r\n    throw new AppError('You can only reorder photos of your own properties', 403);\r\n  }\r\n\r\n  // Validate photo order\r\n  if (!Array.isArray(photoOrder) || photoOrder.length !== property.photos.length) {\r\n    throw new AppError('Photo order must include all existing photos', 400);\r\n  }\r\n\r\n  // Verify all photo IDs exist\r\n  const existingPhotoIds = property.photos.map(photo => photo.id);\r\n  const missingIds = photoOrder.filter(id => !existingPhotoIds.includes(id));\r\n  const extraIds = existingPhotoIds.filter(id => !photoOrder.includes(id));\r\n\r\n  if (missingIds.length > 0 || extraIds.length > 0) {\r\n    throw new AppError('Photo order contains invalid photo IDs', 400);\r\n  }\r\n\r\n  // Reorder photos\r\n  const reorderedPhotos = photoOrder.map(photoId => {\r\n    return property.photos.find(photo => photo.id === photoId)!;\r\n  });\r\n\r\n  property.photos = reorderedPhotos;\r\n  property.lastModifiedBy = new Types.ObjectId(userId);\r\n  await property.save();\r\n\r\n  logger.info(`Reordered photos for property: ${propertyId}`);\r\n\r\n  return ApiResponse.success(res, {\r\n    photos: property.photos,\r\n    newOrder: photoOrder\r\n  }, 'Photos reordered successfully');\r\n});\r\n\r\n/**\r\n * Update photo details (caption, room)\r\n */\r\nexport const updatePhotoDetails = catchAsync(async (req: Request, res: Response) => {\r\n  const { id: propertyId, photoId } = req.params;\r\n  const { caption, room } = req.body;\r\n  const userId = req.user?._id;\r\n\r\n  // Find property and verify ownership\r\n  const property = await Property.findById(propertyId);\r\n  if (!property) {\r\n    throw new AppError('Property not found', 404);\r\n  }\r\n\r\n  if (property.ownerId.toString() !== userId) {\r\n    throw new AppError('You can only update photos of your own properties', 403);\r\n  }\r\n\r\n  // Find photo\r\n  const photo = property.photos.find(photo => photo.id === photoId);\r\n  if (!photo) {\r\n    throw new AppError('Photo not found', 404);\r\n  }\r\n\r\n  // Update photo details\r\n  if (caption !== undefined) {\r\n    photo.caption = caption;\r\n  }\r\n  if (room !== undefined) {\r\n    photo.room = room;\r\n  }\r\n\r\n  property.lastModifiedBy = new Types.ObjectId(userId);\r\n  await property.save();\r\n\r\n  logger.info(`Updated photo details ${photoId} for property: ${propertyId}`);\r\n\r\n  return ApiResponse.success(res, {\r\n    photo,\r\n    propertyId\r\n  }, 'Photo details updated successfully');\r\n});\r\n\r\n/**\r\n * Get photo upload guidelines\r\n */\r\nexport const getPhotoGuidelines = catchAsync(async (_req: Request, res: Response) => {\r\n  return ApiResponse.success(res, {\r\n    guidelines: {\r\n      maxPhotos: 20,\r\n      maxFileSize: '10MB',\r\n      allowedFormats: ['JPEG', 'PNG', 'WebP'],\r\n      recommendedSize: '1200x800 pixels',\r\n      tips: [\r\n        'Use high-quality, well-lit photos',\r\n        'Include photos of all rooms and common areas',\r\n        'Show the property\\'s best features',\r\n        'Include exterior and interior shots',\r\n        'Avoid blurry or dark images',\r\n        'Take photos from multiple angles',\r\n        'Include amenities like kitchen, bathroom, parking',\r\n        'Show the neighborhood and nearby landmarks'\r\n      ]\r\n    },\r\n    requirements: {\r\n      minPhotos: 1,\r\n      primaryPhotoRequired: true,\r\n      roomLabelsRecommended: true\r\n    },\r\n    roomSuggestions: [\r\n      'living room',\r\n      'bedroom',\r\n      'kitchen',\r\n      'bathroom',\r\n      'dining room',\r\n      'balcony',\r\n      'exterior',\r\n      'parking',\r\n      'compound',\r\n      'neighborhood'\r\n    ]\r\n  }, 'Photo upload guidelines retrieved successfully');\r\n});\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}